{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule, MenuController } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\nimport { ServicesModule } from '../services/services.module';\r\nimport { BrMaskerModule } from 'brmasker-ionic-3';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ServicesModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    BrMaskerModule,\r\n    \r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button></ion-back-button>\\r\\n      </ion-buttons>\\r\\n         \\r\\n        <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\r\\n      <ion-title>\\r\\n        iKitchen\\r\\n      </ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n<ion-content padding>\\r\\n\\r\\n        <ion-list>\\r\\n                <ion-item *ngFor=\\\"let item of list\\\">\\r\\n                  <p color=\\\"white\\\">{{ item.email }}</p>\\r\\n                  <p color=\\\"white\\\"></p>\\r\\n              </ion-item>\\r\\n        </ion-list><!--https://forum.ionicframework.com/t/how-to-read-object-object-using-angular-2/92833/2-->\\r\\n    <h1 id=\\\"titulo\\\">Insira os dados {{ IdLogado  }}</h1>\\r\\n    <br>\\r\\n    <!-- FORMULÁRIO -->\\r\\n    <form [formGroup]=\\\"formulario\\\" id=\\\"Form\\\">\\r\\n      \\r\\n        <!-- CPF https://pt.stackoverflow.com/questions/363703/problema-com-brmask-no-ionic-4\\r\\n        \\r\\n          <!-- EMAIL -->\\r\\n          <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">E-mail</ion-label>\\r\\n          <ion-input type=\\\"email\\\" formControlName=\\\"email\\\" ></ion-input>\\r\\n          </ion-item>\\r\\n          <!-- SENHA -->\\r\\n          <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Senha</ion-label>\\r\\n          <ion-input type=\\\"password\\\" formControlName=\\\"senha\\\"></ion-input>\\r\\n          </ion-item>\\r\\n      \\r\\n      <ion-button shape=\\\"round\\\" expand=\\\"full\\\" color=\\\"light\\\" (click)=\\\"clicou()\\\"> \\r\\n          Logar \\r\\n      </ion-button> \\r\\n    </form>\\r\\n    <!-- LOGAR -->\\r\\n      \\r\\n    <!-- CADASTRAR -->\\r\\n    \\r\\n  </ion-content>\"","module.exports = \"ion-content {\\n  --background: url('WallPaper.jpg') 40% no-repeat;\\n  background-size: -15%; }\\n\\nForm {\\n  position: fixed;\\n  bottom: 25%;\\n  width: 90%; }\\n\\n#alerta {\\n  background-color: white; }\\n\\n#titulo {\\n  color: white;\\n  font-size: 200%;\\n  position: fixed;\\n  bottom: 70%;\\n  background-color: rgba(255, 255, 255, 0.3); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vQzpcXFVzZXJzXFxQQyBDQVNBXFxEZXNrdG9wXFxJb25pY1xcaUtpdGNoZW4taW9uaWMvc3JjXFxhcHBcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxnREFBYTtFQUNiLHFCQUFxQixFQUFBOztBQUl6QjtFQUNJLGVBQWU7RUFDZixXQUFXO0VBQ1gsVUFBVSxFQUFBOztBQUVkO0VBQ0ksdUJBQXNCLEVBQUE7O0FBRTFCO0VBQ0ksWUFBWTtFQUNaLGVBQWU7RUFDZixlQUFjO0VBQ2QsV0FBVztFQUNYLDBDQUF1QyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAvL2JhY2tncm91bmQtaW1hZ2U6IHVybChcInNyYy9hc3NldHMvaW1nL1dhbGxQYXBlci5qcGdcIik7XHJcbiAgICAtLWJhY2tncm91bmQ6IHVybCgnc3JjXFxhc3NldHNcXGltZ1xcV2FsbFBhcGVyLmpwZycpIDQwJSBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IC0xNSU7XHJcbiAgICBcclxuICAgXHJcbn1cclxuRm9ybXtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMjUlO1xyXG4gICAgd2lkdGg6IDkwJTtcclxufVxyXG4jYWxlcnRhe1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcclxufVxyXG4jdGl0dWxve1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAyMDAlO1xyXG4gICAgcG9zaXRpb246Zml4ZWQ7XHJcbiAgICBib3R0b206IDcwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC4zKTtcclxufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NavController, NumericValueAccessor, ToastController, MenuController } from '@ionic/angular';\r\nimport { AutenticacaoGuard } from '../guard/autenticacao.guard';\r\nimport { UsuarioService } from '../services/usuario.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ServService } from '../serv.service';\r\nimport * as firebase from 'firebase';\r\nimport { ToastService } from '../toast.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  formulario: FormGroup;\r\n \r\n\r\n  constructor(\r\n    private formBuilder:FormBuilder,\r\n    private router:Router,\r\n    private storage:Storage,\r\n    private serv:ServService,\r\n    private usuarioService:UsuarioService,\r\n    public toastCtrl:ToastService,\r\n    private menuCtrl:MenuController) { }\r\n\r\n    list;\r\n  async ngOnInit() {\r\n    firebase.auth().signOut();\r\n    this.formulario = this.formBuilder.group({\r\n      email:['', [Validators.email, Validators.required]],\r\n      senha:['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }  \r\n  ionViewWillEnter() {\r\n    this.menuCtrl.enable(false,\"first\");\r\n  }\r\n  \r\n  IdLogado;\r\n  logou:boolean;\r\n  data;\r\n  public X:string;\r\n  clicou(){\r\n    var mensagem=\"\";\r\n    firebase.auth().signInWithEmailAndPassword(\r\n      this.formulario.get('email').value,this.formulario.get('senha').value).then(user =>{\r\n        this.toastCtrl.Mensagem(\"Logado com sucesso\");\r\n        mensagem=\"Logado com sucesso\";\r\n        this.menuCtrl.enable(true,\"first\");\r\n        this.router.navigateByUrl('configuracoes/pessoal');\r\n      }).catch(error => {\r\n        // Handle Errors here.\r\n        mensagem=error;\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        this.toastCtrl.Mensagem(errorCode+\" : \"+errorMessage);\r\n        console.log(errorCode+\" : \"+errorMessage);\r\n        mensagem=errorCode.toString()+\" : \"+errorMessage.toString();\r\n        \r\n        // ...\r\n    });\r\n    //this.toastCtrl.Mensagem(mensagem);\r\n    /*firebase.auth().onAuthStateChanged(function(user) {//https://firebase.google.com/docs/auth/web/manage-users?hl=pt-br\r\n      if (user) {\r\n        this.toastCtrl.Mensagem(\"Logado com sucesso\");\r\n        this.router.navigateByUrl('configuracoes/pessoal');\r\n      }\r\n    });*/\r\n  }\r\n /*async clicou() {\r\n      this.IdLogado=this.formulario.get('senha').value;\r\n      this.logou=await this.usuarioService.logar(\r\n        this.formulario.get('email').value,\r\n        this.formulario.get('senha').value);\r\n        \r\n        //this.logou=true;\r\n    if (//this.formulario.valid &&\r\n       this.logou) {\r\n        \r\n          AutenticacaoGuard.Acesso = true;\r\n          \r\n          this.IdLogado= await this.usuarioService.getUserId(\r\n            this.formulario.get('email').value);\r\n\r\n          //this.IdLogado=this.TratarJSON(this.IdLogado);\r\n          let val=Object.values(this.IdLogado);//\"id:1\" para \"1\"\r\n          this.IdLogado=val[0];\r\n          this.storage.set('id',this.IdLogado);\r\n\r\n          this.toastLogin(\"usuario de id \"+this.IdLogado\r\n          +\" logado com sucesso\");\r\n          this.menuCtrl.enable(true,\"first\");\r\n          this.router.navigateByUrl('configuracoes/pessoal');\r\n    } else  {\r\n      this.toastLogin(\"Email ou senha incorreta\");\r\n    }\r\n      \r\n       \r\n  }\r\n  TratarJSON(json){//https://alligator.io/js/json-parse-stringify/\r\n\r\n    var valor,partes=[];\r\n    valor=JSON.stringify(json);\r\n    partes=valor.split(\":\",2);\r\n    valor=partes[1].replace(\"}\",\"\");\r\n    return valor;\r\n  }\r\n async toastLogin(Text){//https://forum.ionicframework.com/t/how-to-add-toast-action-button/61377/3\r\n  let toast = await this.toastCtrl.create({\r\n      message: Text,\r\n      duration: 2500,\r\n      showCloseButton: true,\r\n      closeButtonText: \"Fechar\"\r\n  });\r\n \r\n  toast.present();\r\n  }*/\r\n\r\n}"],"sourceRoot":""}